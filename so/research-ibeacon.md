# Research Ibeacon

## 说明

- iBeacon是苹果公司提出的“一种可以让附近手持电子设备检测到的一种新的低功耗、低成本信号传送器”的一套可用于室内定位系统的协议。
- 在一个iBeacon基站的帮助下，智能手机的软件能大概找到它和这个iBeacon基站的相对位置。
- 这种技术可以使一个智能手机或其他装置在一个iBeacon基站的感应范围内执行相应的命令。
- 通过低功耗蓝牙（BLE）实现。利用的是BLE中名为“通告帧”（Advertising）的广播帧。定期发送，只要是支持BLE的设备就可以接收到。
- 一套iBeacon的部署由一个或多个在一定范围内发射传输他们唯一的识别码iBeacon信标设备组成。

## 数据发送

- iBeacon 发送的数据主要由四种资讯构成，分别是UUID（通用唯一标识符）、Major、Minor、Measured Power
- UUID是规定为ISO/IEC11578:1996标准的128位标识符。
- Major和Minor由iBeacon发布者自行设定，都是16位的标识符。

  - 连锁店可以在Major中写入区域资讯，可在Minor中写入个别店铺的ID等。
  - 在家电中嵌入iBeacon功能时，可以用Major表示产品型号，用Minor表示错误代码，用来向外部通知故障。

- Measured Power是iBeacon模块与接收器之间相距1m时的参考接收信号强度（RSSI：Received Signal Strength Indicator）。
- 接收器根据作为参照的RSSI和接收信号的强度，推测发送模块与接收器之间的距离。

## 距离

- iBeacon的传输距离分为3个不同的范围：最近：几公分 中距：几米 远距：大于10米
- iBeacon广播可以估算用户的活动状态：进入、退出亦或是在iBeacon区域内移动。根据用户和iBeacon的距离可产生三种不同的交互。

## 功耗

- 以苹果公司的推荐设置-100ms的广播间隔为例，一枚纽扣电池可使设备工作1到3个月。
- 而如果将广播间隔提升至900ms，则可使该设备工作2到3年

## 应用

- 商场的导航可以根据 iBeacon 进行室内定位。
- 商场的店铺里安置iBeacon基站，可以向用户传输各种信息，例如优惠劵、店内导航信息、个性化的商品推荐信息。
- 博物馆、美术馆、景点的导览系统，在非常靠近展品时才会提示相应的信息。
- 智能家居，用户进入房间自动开灯、离开房间自动关灯等。

## 近邻宝应用

- 柜体上装一个 ibeacon 设备一直广播，这样手机设备可以判断和上报距离柜体的位置(推算的距离)
