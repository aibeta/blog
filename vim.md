# Vim

## problem

- [ ] replace a word with other word `%s/book/chapter` .如果有 `/g` 则是全局替换，如果想重复上一次替换，使用 `:+️`
- [ ] 删除指定的一行，同时光标不变
- [ ] 移动到一行到冒号以前
- [ ] 使用自定义图标
- [ ] 删除括号之间 `d%`
- [ ] 替换时有换行
- [ ] 选取多行缩进 `3gg` && `v13gg` && `$` && `=`
- 选择所有查找到的单词 ``
- 查找替换 `` 移动
- 把单引号改为双引号 `ri``
- 类似 dt，但是包含最后一个 `dW`
- 到达上一个空格的位置 `f <space> ;,`
- 删除括号里面的内容 `dib di(`
- 在括号中间编辑 ``
- [x] 跨页面标记位置 `mX`，再回到这个位置 `'X`
- [x] 在函数内部跳转到花括号处 `[{`
- [x] 多行光标删除 `这个用宏最好了`, 对多行用宏 `150@n`
- [x] 前一个光标所在 `g-`
- [x] 删除3个字母 `3x`
- [x] 选中当前单词，替换为yanked 的内容 `ve p`
- [x] 选中一个单词，给他加上引号 
- [x] 赋值到寄存器2 `"2yw, "2p`
- [x] 赋值一个word，删除一个word，粘贴第一个work `yw, dw, "0p`  `"0 ` 表示上一次 yank， `"1` 表示上一次的 delete/change

## 选取

- vi" || va" 选取"之内的内容
- vit( || vit{ 选取{之内的内容}}
- 选取一个区域 `di{`
- 选中当前位置，到上一次的标记a位置 v`a
- 选中多行操作之后，重选这些行，也可作为重选上一次的选取 `gv`
- 从某行选到某行 `V35G`

## 删除

- 删除括号里面的内容 `dib`
- 删除选中内容并且进入编辑 `c`
- 删除当前行，替换成 yanked 的行 ``
- 删除行到行 `:a,bd :.,bd`
- 选中引号之间 `vi'`
- 复制引号之间 `yi'` `di'` `ci'`
- 删除 > < 之间 `dt<`
- 删除花括号之间 `v%d`
- 删除但不复制 `"_d`

## 复制

- 复制指定行到当前行 `:21t.`
- 拷贝指定行 `:4y p`(not work in vscode)

## 编辑

- 行首行为插入 `I || A`

## 移动

- 移动语句 `()`
- 移动段落 `{}`
- 当前函数的第一行 `[{`
- 让下一个方法变成当前屏幕的顶部

## 宏

- 录制一个宏替换所有的逗号 , `qw %s/, /, /g q`, 退出录制 `q`
- 把当前行代码，存入寄存器，录制成宏

## 🐂

- 每行加1 : `%s/^/\\=line('.').','/`
- 加1 `ctr + a`

```
## 说明

## e
- e/E

### word
- iw/aw: next wowd/inner word/all word：
- iW/aW: WORD
- cW: change till end of word
- ciW: change inner word.
- 3cW: change 3 words

### sentence
- is/as: sentence，sentence 是以 . ! ? 为分割

### paragraph
- ip/ap: paragraph，两个空格之间是一个段落

### tag
- it/at: tag，一个 html tag，会
- dat : "delete around tag"
- dit : "delete inside tag"

## other

- i(/a(：括号之间，类似的还有 []/{}
- vi} a" i> it at a]
- ci" = change inner between ".."
- ci( = change text between ( .. )
- ci< = change text between < .. > (needs set matchpairs+=<:> in vimrc)
- 删除{ 里面的内容 di{ dib di(
```

```
## 移动
第一个非空白字符 `^`
匹配括号移动 `%`
移动到某行 `:n`

## 操作快捷键
删除到行首行尾 d0 || d$
剪切两个单词 v3wd
清除所有^M :%s/^M//g
某行某个单词 7gg && 3w
注释5行代码 Control V && 5j && I && //
反向撤销 Control + R

## 删除
删除全部 ggdG, 删除本行 dd， 删除当前五行 5dd
删除单个字符 x || X

## 复制和合并
复制本行 yy, 粘贴 p
合并两行 J
使用寄存器存储多个 `"ayy "ap "byy "bp`

## 编辑
光标前后插入 i || a
行首行尾 0 || $
文件首尾 gg|| G
添加一行空行 o || O
拷贝到系统 ""+yy

## 翻页
前后一页 ^b||^f
上下半页 ^u||^d
像下翻一行 ^e
上一个光标位置 `''`
当前行放屏中 zz||zt||zb

## 查找
上个光标单词 # || *
向后查找单词 / || ?
行内正反向查询字母， `f t` `F T`
匹配当前光标所在的括号对应的括号 % 

## 动作
重复上次动作 `.`
选取字符之间 `va"` || `vi"`
```


## 原生vim，插件和其他快捷键

- 文件目录, 打开路径 F2
- 怎么切换tab文件 alt + 2
- 怎么关闭当前文件 ctrl + F4
- html5初始化 ! + Tab
- vim 有26个 mark，还有26个寄存器
- 打开插件管理 :BundleList
- 标签自动补全 Tab / Ctr&Z + ,
- 切换窗口 Ctr&w + w
- 切换桌面 Ctr&w + ⬆️/⬇️

## 以下内容来自 vim 书籍

- 一个操作符命令被重复两次，则被作用于当前行(c,d,y,g~,gu,gU,>,<,=)
- 删除多行 :14,22d

## 配置

- set nrformats= 这会让 Vim 把所有数字都当成十进制,不管它们是不是以 0 开头的(用于计算啥的)
- 上一个光标位置 <C-o><C-i>
- 上下分屏打开目录 :E || :He
- 左右分屏打开目录 :Ve || :Ve!
- 在分屏之间移动 <C-w> hjkl
- 让分屏宽度相等 <C-w> =
- 复制到系统剪切板 ggvG && !tee >(pbcopy)

## 第一章

- 初始设置启动vim $ vim -u NONE -N
- 删除当前字符进入insert s
- 删除整个段落 dap
- 删除到单词结尾或整个单词 dw || daw
- 功能同上然后进入insert cw || caw
- 选中标签里的内容 vit
- 增加当前行到末尾的缩进 >G
- 查找当前光标下的单词 * 重复(n) 回退（N）
- 在行内查找下一指定字符 f{char}/t{char} 重复(;) 回退（,）
- 在文档中查找下一处匹配项 /pattern<CR> 重复(n) 回退（N）
- 执行替换 :s/target/replacement 重复(&) 回退（u）

## 第二章 普通模式

- 使用ESC-a代替回车来划分粒度
- 对一个数字进行加减 <C-a><C-x>
- 对本行第一个数字加20 20<C-a>
- 当前行缩进 >>
- 注释当前行||段落 \\\ || \\ap
- 切换大小写 g~
- 将字母转化为大写||小写 gU || gu
- 整行转化 gUgU || gugu

## 第三章 插入模式

- 删除一个字母 <C-h>
- 删除一个单词 <C-w>
- 删除到行首 <C-u> // 上面三个命令可用于 bash，vim 的命令模式
- 切换到普通模式 <C-[>
- 切换到插入-普通模式 <C-o> //太有用了！执行一个命令，然后自动切到插入模式
- 拷贝逗号前的内容 yt,
- 粘贴0号寄存器里的内容 <C-r>0
- 进入替换模式 R
- 单次替换然后返回insert r
- 使用表达式寄存器进行计算 <C-r>=2*2<Enter> //system('ls')
- 显示字符的编码 ga //10进制，16进制，8进制，
- 插入 Unicode 字符 <C-v>u2318 ⌘ //⌘ (u2318);⇧ (u21e7);⌥ (u2325);⌃(u2303);⇪ (u2318)

## 第四章 可视模式

- 修改某个单词 viw && c
- 面向字符的可视模式 v
- 面向行的可视模式 V
- 面向列块的可视模式 <C-v>
- 重选上次的高亮选区 gv
- 移动选区的起始光标 o
- 标签里的内容设置为大写 guit
- 把一行字符全部替换为- Vr-gg